<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset='utf-8'/>
    <meta content='width=device-width, initial-scale=1' name='viewport'/>

    <title id="seo_titulo">Carregando Loja...</title>
    <meta id="seo_descricao" name='description' content='Cat√°logo de produtos online.'/>
    <meta id="seo_keywords" name='keywords' content='loja, vendas, catalogo'/>
    <meta id="seo_autor" name='author' content='Drop-to-Shop'/>
    
    <link rel="preconnect" href="https://script.google.com">
    <link rel="preconnect" href="https://lh3.googleusercontent.com">
    <link rel="preconnect" href="https://drive.google.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&amp;family=Roboto:wght@300;400;500&amp;display=swap" rel="stylesheet"/>
    <link crossorigin='anonymous' href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css' integrity='sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We' rel='stylesheet'/>
    <link href="css/style.css" rel="stylesheet"/>
  </head>
  <body>
    
    <nav class='navbar navbar-expand-md navbar-dark fixed-top bg-primary'>
      <div class='container-fluid'>
        <a class='navbar-brand' href='#'>
            <h1 id="logo_site" style="font-size: 1.25rem; margin:0; display:inline; font-weight: bold;">...</h1>
        </a>

        <button aria-controls='navbarCollapse' aria-expanded='false' aria-label='Toggle navigation' class='navbar-toggler' data-bs-target='#navbarCollapse' data-bs-toggle='collapse' type='button'>
          <span class='navbar-toggler-icon'></span>
        </button>
        <div class='collapse navbar-collapse' id='navbarCollapse'>
          <ul class='navbar-nav me-auto mb-2 mb-md-0'>
            <li class='nav-item'><a class='nav-link active' data-bs-target='#modalUsuario' data-bs-toggle='modal' href='#' id='btn_registrarse'>Cadastre-se</a></li>
            <li class='nav-item'><a class='nav-link active' data-bs-target='#modalLogin' data-bs-toggle='modal' href='#' id='btn_login'>Login</a></li>
            <li class='nav-item'><a class='nav-link active' href='#' id='btn_logout'>Sair</a></li>
            <li class='nav-item'><a class='nav-link active' data-bs-target='#modalUsuario' data-bs-toggle='modal' href='#' id='btn_actualizar'>Atualizar Dados</a></li>
            <li class='nav-item dropdown'>
              <a aria-expanded='false' class='nav-link active dropdown-toggle' data-bs-toggle='dropdown' href='#' id='navbarDropdownMenuLink' role='button'>Categorias</a>
              <ul aria-labelledby='navbarDropdownMenuLink' class='dropdown-menu' id='categoria_menu'>
                </ul>
            </li>
          </ul>
          <form class='d-flex'>
            <input aria-label='Buscar Produtos' class='form-control me-2' id='txt_search' placeholder='Buscar...' type='search'/>
            <button class='btn btn-light' onclick='imprimir_produtos("Nome","0");' type='button'>üîç</button>
          </form>
        </div>
      </div>
    </nav>
    
    <main class='container'>
      <div style='position: fixed;right: 10px; bottom: 10px; z-index:9999'>
        <button class='btn btn-danger btn-lg shadow' data-bs-target='#modalCarrito' data-bs-toggle='modal' onclick='$("#div_mensagem_venda").hide();' type='button'>
          üõí Ver Carrinho
        </button>
        <br/>
        <button class='btn btn-primary active mt-2 shadow' type='button'> <span id='valorTotal'>R$ 0.00</span></button>
        <div class='alert alert-danger' id='alert_carrinho' role='alert'></div>
      </div>
      
      <div class='bg-light p-3 rounded'>
        <div id="loading_skeleton" class="row"></div>
        
        <div class='row' id='div_produtos'></div>
      </div>
    </main>

    <div class="modal fade" id="modalProduto" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalTituloProduto">Produto</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div id="carouselProduto" class="carousel carousel-dark slide" data-bs-ride="carousel">
              <div class="carousel-inner" id="carouselImagensContainer"></div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselProduto" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Anterior</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselProduto" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Pr√≥ximo</span>
              </button>
            </div>
            <div class="mt-4">
                <h4 id="modalPreco" class="text-primary fw-bold mb-3"></h4>
                <div id="modalVariacoes" class="mb-3"></div> <h6>Descri√ß√£o:</h6>
                <p id="modalDescricaoTexto"></p>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
            <button type="button" class="btn btn-success" id="btnAdicionarModal">Adicionar ao Carrinho</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class='modal' id='modalLogin' tabindex='-1'>
      <div class='modal-dialog'>
        <div class='modal-content'>
          <div class='modal-header'><h5 class='modal-title'>Login</h5><button class='btn-close' data-bs-dismiss='modal'></button></div>
          <div class='modal-body'>
            <form id='form-login'>
              <div class='mb-3'><label class='form-label'>E-mail</label><input class='form-control' id='login_email' required type='email' autocomplete="email"/></div>
              <div class='mb-3'><label class='form-label'>Senha</label><input class='form-control' id='login_password' required type='password' autocomplete="current-password"/></div>
              <div class='d-grid'><button class='btn btn-primary' type='submit'>Entrar</button></div>
            </form>
          </div>
        </div>
      </div>
    </div>
    
    <div class='modal' id='modalUsuario' tabindex='-1'>
      <div class='modal-dialog'>
        <div class='modal-content'>
          <div class='modal-header'><h5 class='modal-title'>Cadastro</h5><button class='btn-close' data-bs-dismiss='modal'></button></div>
          <div class='modal-body'>
            <form id='form-registro'>
              <div class='row'>
                <div class='mb-3 col-6'><label>Nome</label><input class='form-control' id='nombre' required type='text' autocomplete="given-name"/></div>
                <div class='mb-3 col-6'><label>Sobrenome</label><input class='form-control' id='apellido' required type='text' autocomplete="family-name"/></div>
              </div>
              <div class='mb-3'><label>Documento</label><input class='form-control' id='documento' required type='text' autocomplete="off"/></div>
              <div class='mb-3'><label>E-mail</label><input class='form-control' id='email' required type='email' autocomplete="email"/></div>
              <div class='mb-3'><label>Usu√°rio</label><input class='form-control' id='user' required type='text' autocomplete="username"/></div>
              <div class='mb-3'><label>Senha</label><input class='form-control' id='password' required type='password' autocomplete="new-password"/></div>
              <div class='d-grid'><button class='btn btn-primary' type='submit'>Cadastrar</button></div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class='modal' id='modalCarrito' tabindex='-1'>
      <div class='modal-dialog'>
        <div class='modal-content'>
          <div class='modal-header'>
            <h5 class='modal-title'>Carrinho de Compras</h5>
            <button aria-label='Close' class='btn-close' data-bs-dismiss='modal' type='button'></button>
          </div>
          <div class='modal-body'>
            <div id='div_carrito'></div>
            <div class='alert alert-danger' id='alert_carrito' role='alert'></div>
            <div id='div_frete_original'></div> 
            
            <h4 class='text-end mt-3'>Total: <span id='total_carro'>R$ 0.00</span></h4>
            <div class='d-grid'>
              <button class='btn btn-success' id='btn_pagar' type='button' data-bs-toggle='modal' data-bs-target='#modalCheckout'>Finalizar Compra</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="modalCheckout" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Dados de Entrega e Pagamento</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="form-checkout">
              <h6 class="text-primary mb-3">Quem vai receber?</h6>
              <div class="row mb-3">
                <div class="col-md-6"><label>CPF</label><input type="text" class="form-control" id="checkout_cpf" placeholder="000.000.000-00" required autocomplete="off"/></div>
                <div class="col-md-6"><label>Telefone</label><input type="text" class="form-control" id="checkout_telefone" placeholder="(XX) 9XXXX-XXXX" required autocomplete="tel"/></div>
              </div>
              <h6 class="text-primary mb-3 mt-4">Endere√ßo de Entrega</h6>
              <div class="row mb-2">
                <div class="col-md-4"><label>CEP</label><input type="text" class="form-control" id="checkout_cep" onblur="pesquisarCep(this.value);" required autocomplete="postal-code"/></div>
                <div class="col-md-8"><div id="msg_cep" class="form-text">Digite o CEP para buscar.</div></div>
              </div>
              <div class="row mb-2">
                <div class="col-md-9"><label>Rua</label><input type="text" class="form-control" id="checkout_rua" required autocomplete="street-address"/></div>
                <div class="col-md-3"><label>N√∫mero</label><input type="text" class="form-control" id="checkout_numero" required/></div>
              </div>
              <div class="row mb-2">
                <div class="col-md-5"><label>Bairro</label><input type="text" class="form-control" id="checkout_bairro" required/></div>
                <div class="col-md-5"><label>Cidade</label><input type="text" class="form-control" id="checkout_cidade" required autocomplete="address-level2"/></div>
                <div class="col-md-2"><label>UF</label><input type="text" class="form-control" id="checkout_uf" required autocomplete="address-level1"/></div>
              </div>
              <div class="mb-3"><label>Complemento</label><input type="text" class="form-control" id="checkout_complemento"/></div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Voltar</button>
            <button type="button" class="btn btn-success btn-lg" onclick="iniciarPagamento()">Ir para Pagamento</button>
          </div>
        </div>
      </div>
    </div>
    
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js' defer></script>
    <script crossorigin='anonymous' integrity='sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj' src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js' defer></script>
    <script src='https://sdk.mercadopago.com/js/v2' defer></script>
    <script src="js/config.js" defer></script>
    <script src="js/app.js" defer></script>
  </body>
</html>
